<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>학번 출력</title>
<style>
  canvas {
    width: 80%;
    height: auto; /* 자동으로 너비에 맞춰 높이를 조절 */
    max-height: 40%; /* 높이의 최대값 설정 */
  }
</style>
</head>
<body>

<canvas id="myCanvas" width="1200" height="150"></canvas>

<script>
const canvas = document.getElementById('myCanvas');
const ctx = canvas.getContext('2d');

const digitWidth = 50; // 각 숫자의 너비
const digitHeight = 100; // 각 숫자의 높이
const padding = 20; // 숫자 간 간격

ctx.lineWidth = 3;

// 숫자 그리는 함수
function drawDigit(x, y, digit) {
  ctx.beginPath();
  switch(digit) {
    case 0:
      ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.lineTo(x, y + digitHeight);
      ctx.lineTo(x, y);
      break;
    case 1:
      ctx.moveTo(x + digitWidth / 2, y);
      ctx.lineTo(x + digitWidth / 2, y + digitHeight);
      break;
    case 2:
      ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      ctx.lineTo(x, y + digitHeight / 2);
      ctx.lineTo(x, y + digitHeight);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      break;
    case 3:
      ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.lineTo(x, y + digitHeight);
      ctx.moveTo(x, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      break;
    case 4:
      ctx.moveTo(x, y);
      ctx.lineTo(x, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      ctx.moveTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      break;
    case 5:
      ctx.moveTo(x + digitWidth, y);
      ctx.lineTo(x, y);
      ctx.lineTo(x, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.lineTo(x, y + digitHeight);
      break;
    case 6:
      ctx.moveTo(x + digitWidth, y);
      ctx.lineTo(x, y);
      ctx.lineTo(x, y + digitHeight);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      ctx.lineTo(x, y + digitHeight / 2);
      break;
    case 7:
      ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      break;
    case 8:
      ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.lineTo(x, y + digitHeight);
      ctx.lineTo(x, y);
      ctx.moveTo(x, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      break;
    case 9:
    ctx.moveTo(x, y);
      ctx.lineTo(x + digitWidth, y);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      ctx.moveTo(x, y);
      ctx.lineTo(x, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight / 2);
      ctx.lineTo(x + digitWidth, y + digitHeight);
      break;
  }
  ctx.stroke();
}

// 입력된 숫자를 디지털 숫자로 화면에 출력하는 함수
function drawNumber(number) {
  const digits = number.toString().split('');
  // 숫자를 문자열로 변환한 후, 각 자리수를 배열의 원소로 분리
  // number.toString(): 입력된 숫자를 문자열로 변환
  // .split(''): 변환된 문자열을 각 문자 단위로 나누어 배열에 저장
  // const는 변수 타입을 저장하지 않는다. 실수로 변수를 재할당하는 것을 방지

  let startX = 20; // 숫자를 출력할 시작 X 좌표
  const startY = 20;
  
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  digits.forEach((digit, index) => {
    drawDigit(startX + (index * (digitWidth + padding)), startY, parseInt(digit));
  });
  // digits는 배열(입력받은숫자전체), forEach()함수를 이용해 배열을 순회해서 처리. 배열안에 있는 모든 숫자를 순차적으로 스위치문에서 확인하고 돌릴수있음
  //digit는 매개변수(숫자 하나), index는 배열 내 요소의 위치를 가르킴
  // =>는 함수 정의하는 방식 
  //startX(첫번째 x좌표) + (index * (digitWidth + padding) x좌표계산
  // parseInt(digit) 입력받은 값 정수로 변환
  // 각 위치를 계산하여 drawDigit에 전달

  //startX는 가운데 정렬이 되어 출력이된다. 
  // 숫자 0을 예시로 위의 코드를 계산 하면, startX() + (0 * (50 + 20))
}

// 초기 숫자를 출력
let number = 202227058;
drawNumber(number);


</script>

</body>
</html>